!function(h){var a={},k=document,f="laydate_box laydate_void laydate_click LayDateSkin skins/ /laydate.css".split(" ");h.laydate=function(b){b=b||{};try{f.event=h.event?h.event:laydate.caller.arguments[0]}catch(d){}a.run(b);return laydate};laydate.v="1.1";a.getPath=function(){var a=document.scripts,a=a[a.length-1].src;return a.substring(0,a.lastIndexOf("/")+1)}();a.use=function(b,d){var c=k.createElement("link");c.type="text/css";c.rel="stylesheet";c.href=a.getPath+b+f[5];d&&(c.id=d);k.getElementsByTagName("head")[0].appendChild(c)};
    a.trim=function(a){return(a||"").replace(/^\s|\s$/g,"").replace(/\s+/g," ")};a.digit=function(a){return 10>a?"0"+(a|0):a};a.stopmp=function(a){a=a||h.event;a.stopPropagation?a.stopPropagation():a.cancelBubble=!0;return this};a.each=function(a,d){for(var c=0,e=a.length;c<e&&!1!==d(c,a[c]);c++);};a.hasClass=function(a,d){a=a||{};return(new RegExp("\\b"+d+"\\b")).test(a.className)};a.addClass=function(b,d){b=b||{};a.hasClass(b,d)||(b.className+=" "+d);b.className=a.trim(b.className);return this};a.removeClass=
        function(b,d){b=b||{};a.hasClass(b,d)&&(b.className=b.className.replace(new RegExp("\\b"+d+"\\b"),""));return this};a.removeCssAttr=function(a,d){var c=a.style;c.removeProperty?c.removeProperty(d):c.removeAttribute(d)};a.shde=function(a,d){a.style.display=d?"none":"block"};a.query=function(b){if(b&&1===b.nodeType){if("input"!==b.tagName.toLowerCase())throw Error("\u9009\u62e9\u5668elem\u9519\u8bef");return b}b=a.trim(b).split(" ");var d=k.getElementById(b[0].substr(1)),c;if(d){if(b[1]){if(/^\./.test(b[1])){b=
        b[1].substr(1);var e=new RegExp("\\b"+b+"\\b");c=[];d=k.getElementsByClassName?d.getElementsByClassName(b):d.getElementsByTagName("*");a.each(d,function(a,b){e.test(b.className)&&c.push(b)});return c[0]?c:""}c=d.getElementsByTagName(b[1]);return c[0]?d.getElementsByTagName(b[1]):""}return d}};a.on=function(b,d,c){b.attachEvent?b.attachEvent("on"+d,function(){c.call(b,h.even)}):b.addEventListener(d,c,!1);return a};a.stopMosup=function(b,d){if("mouseup"!==b)a.on(d,"mouseup",function(b){a.stopmp(b)})};
    a.run=function(b){var d=a.query,c,e=f.event,g;try{g=e.target||e.srcElement||e||{}}catch(n){g={}}d=b.elem?d(b.elem):g;f.elemv=/textarea|input/.test(d.tagName.toLocaleLowerCase())?"value":"innerHTML";e&&g.tagName?d&&d!==a.elem&&(a.stopMosup(e.type,d),a.stopmp(e),a.view(d,b),a.reshow()):(c=b.event||"click",a.each(0<(d.length|0)?d:[d],function(d,e){a.stopMosup(c,e);a.on(e,c,function(c){a.stopmp(c);e!==a.elem&&(a.view(e,b),a.reshow())})}))};a.scroll=function(a){a=a?"scrollLeft":"scrollTop";return k.body[a]|
        k.documentElement[a]};a.winarea=function(a){return document.documentElement[a?"clientWidth":"clientHeight"]};a.isleap=function(a){return 0===a%4&&0!==a%100||0===a%400};a.checkVoid=function(b,d,c){var e=[];b|=0;d|=0;c|=0;b<a.mins[0]?e=["y"]:b>a.maxs[0]?e=["y",1]:b>=a.mins[0]&&b<=a.maxs[0]&&(b==a.mins[0]&&(d<a.mins[1]?e=["m"]:d==a.mins[1]&&c<a.mins[2]&&(e=["d"])),b==a.maxs[0]&&(d>a.maxs[1]?e=["m",1]:d==a.maxs[1]&&c>a.maxs[2]&&(e=["d",1])));return e};a.timeVoid=function(b,d){if(a.ymd[1]+1==a.mins[1]&&
        a.ymd[2]==a.mins[2]){if(0===d&&b<a.mins[3]||1===d&&b<a.mins[4]||2===d&&b<a.mins[5])return 1}else if(a.ymd[1]+1==a.maxs[1]&&a.ymd[2]==a.maxs[2]&&(0===d&&b>a.maxs[3]||1===d&&b>a.maxs[4]||2===d&&b>a.maxs[5]))return 1;if(b>(d?59:23))return 1};a.check=function(){var b=a.options.format.replace(/YYYY|MM|DD|hh|mm|ss/g,"\\d+\\").replace(/\\$/g,""),b=new RegExp(b),d=a.elem[f.elemv],c=d.match(/\d+/g)||[],e=a.checkVoid(c[0],c[1],c[2]);if(""!==d.replace(/\s/g,""))if(b.test(d)){if(e[0])return a.elem[f.elemv]="",
        a.msg("\u65e5\u671f\u4e0d\u5728\u6709\u6548\u671f\u5185\uff0c\u8bf7\u91cd\u65b0\u9009\u62e9\u3002"),1;e.value=a.elem[f.elemv].match(b).join();c=e.value.match(/\d+/g);1>c[1]?(c[1]=1,e.auto=1):12<c[1]?(c[1]=12,e.auto=1):2>c[1].length&&(e.auto=1);1>c[2]?(c[2]=1,e.auto=1):c[2]>a.months[(c[1]|0)-1]?(c[2]=31,e.auto=1):c[2]&&2>c[2].length&&(e.auto=1);3<c.length&&(a.timeVoid(c[3],0)&&(e.auto=1),a.timeVoid(c[4],1)&&(e.auto=1),a.timeVoid(c[5],2)&&(e.auto=1));e.auto?a.creation([c[0],c[1]|0,c[2]|0],1):e.value!==
    a.elem[f.elemv]&&(a.elem[f.elemv]=e.value)}else return a.elem[f.elemv]="",a.msg("\u65e5\u671f\u4e0d\u7b26\u5408\u683c\u5f0f\uff0c\u8bf7\u91cd\u65b0\u9009\u62e9\u3002"),1};a.months=[31,null,31,30,31,30,31,31,30,31,30,31];a.viewDate=function(b,d,c){var e,g,n,k,p,h,m=new Date;b<(a.mins[0]|0)&&(b=a.mins[0]|0);b>(a.maxs[0]|0)&&(b=a.maxs[0]|0);m.setFullYear(b,d,c);e=[m.getFullYear(),m.getMonth(),m.getDate()];a.months[1]=a.isleap(e[0])?29:28;m.setFullYear(e[0],e[1],1);g=m.getDay();n=a.months[0===d?11:d-
        1]-g+1;k=1;a.each(f.tds,function(b,c){var d=e[0],l=e[1]+1,h;c.className="";b<g?(c.innerHTML=h=b+n,a.addClass(c,"laydate_nothis"),1===l&&--d,l=1===l?12:l-1):b>=g&&b<g+a.months[e[1]]?(c.innerHTML=h=b-g+1,b-g+1===e[2]&&(a.addClass(c,f[2]),p=c)):(c.innerHTML=h=k++,a.addClass(c,"laydate_nothis"),12===l&&(d+=1),l=12===l?1:l+1);a.checkVoid(d,l,h)[0]&&a.addClass(c,f[1]);a.options.festival&&a.festival(c,l+"."+h);c.setAttribute("y",d);c.setAttribute("m",l);c.setAttribute("d",h)});a.valid=!a.hasClass(p,f[1]);
        a.ymd=e;f.year.value=a.ymd[0]+"\u5e74";f.month.value=a.digit(a.ymd[1]+1)+"\u6708";a.each(f.mms,function(c,b){var d=a.checkVoid(a.ymd[0],(b.getAttribute("m")|0)+1);"y"===d[0]||"m"===d[0]?a.addClass(b,f[1]):a.removeClass(b,f[1]);a.removeClass(b,f[2])});a.addClass(f.mms[a.ymd[1]],f[2]);h=[a.inymd[3]|0||0,a.inymd[4]|0||0,a.inymd[5]|0||0];a.each(Array(3),function(c){a.hmsin[c].value=a.digit(a.timeVoid(h[c],c)?a.mins[c+3]|0:h[c]|0)});a[a.valid?"removeClass":"addClass"](f.ok,f[1])};a.festival=function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            d){var c;switch(d){case "1.1":c="\u5143\u65e6";break;case "3.8":c="\u5987\u5973";break;case "4.5":c="\u6e05\u660e";break;case "5.1":c="\u52b3\u52a8";break;case "6.1":c="\u513f\u7ae5";break;case "9.10":c="\u6559\u5e08";break;case "10.1":c="\u56fd\u5e86"}c&&(a.innerHTML=c)};a.viewYears=function(b){var d=a.query,c="";a.each(Array(14),function(a){c=7===a?c+("<li "+(parseInt(f.year.value)===b?'class="'+f[2]+'"':"")+' y="'+b+'">'+b+"\u5e74</li>"):c+('<li y="'+(b-7+a)+'">'+(b-7+a)+"\u5e74</li>")});d("#laydate_ys").innerHTML=
        c;a.each(d("#laydate_ys li"),function(c,b){if("y"===a.checkVoid(b.getAttribute("y"))[0])a.addClass(b,f[1]);else a.on(b,"click",function(c){a.stopmp(c).reshow();a.viewDate(this.getAttribute("y")|0,a.ymd[1],a.ymd[2])})})};a.initDate=function(){var b=new Date,d=a.elem[f.elemv].match(/\d+/g)||[];3>d.length&&(d=a.options.start.match(/\d+/g)||[],3>d.length&&(d=[b.getFullYear(),b.getMonth()+1,b.getDate()]));a.inymd=d;a.viewDate(d[0],d[1]-1,d[2])};a.iswrite=function(){var b=a.query,b=b("#laydate_hms");a.shde(b,
        !a.options.istime);a.shde(f.oclear,!("isclear"in a.options?a.options.isclear:1));a.shde(f.otoday,!("istoday"in a.options?a.options.istoday:1));a.shde(f.ok,!("issure"in a.options?a.options.issure:1))};a.orien=function(b,d){var c;c=a.elem.getBoundingClientRect();b.style.left=c.left+(d?0:a.scroll(1))+"px";c=c.bottom+b.offsetHeight/1.5<=a.winarea()?c.bottom-1:c.top>b.offsetHeight/1.5?c.top-b.offsetHeight+1:a.winarea()-b.offsetHeight;b.style.top=Math.max(c+(d?0:a.scroll()),1)+"px"};a.follow=function(b){a.options.fixed?
        (b.style.position="fixed",a.orien(b,1)):(b.style.position="absolute",a.orien(b))};a.viewtb=function(){var b,d=[],c="\u65e5\u4e00\u4e8c\u4e09\u56db\u4e94\u516d".split(""),e={},f=k.createElement("table"),h=k.createElement("thead");h.appendChild(k.createElement("tr"));e.creath=function(a){var b=k.createElement("th");b.innerHTML=c[a];h.getElementsByTagName("tr")[0].appendChild(b)};a.each(Array(6),function(c){d.push([]);b=f.insertRow(0);a.each(Array(7),function(a){d[c][a]=0;0===c&&e.creath(a);b.insertCell(a)})});
        f.insertBefore(h,f.children[0]);f.id=f.className="laydate_table";b=d=null;return f.outerHTML.toLowerCase()}();a.view=function(b,d){var c=a.query,e;d=d||b;a.elem=b;a.options=d;a.options.format||(a.options.format="YYYY-MM-DD");a.options.start=a.options.start||"";a.mm=e=[a.options.min||"1900-01-01 00:00:00",a.options.max||"2099-12-31 23:59:59"];a.mins=e[0].match(/\d+/g);a.maxs=e[1].match(/\d+/g);a.box?a.shde(a.box):(e=k.createElement("div"),e.id=f[0],e.className=f[0],e.style.cssText="position: absolute;",
        e.setAttribute("name","laydate-v"+laydate.v),e.innerHTML='<div class="laydate_top"><div class="laydate_ym laydate_y" id="laydate_YY"><a class="laydate_choose laydate_chprev laydate_tab"><cite></cite></a><input id="laydate_y" readonly><label></label><a class="laydate_choose laydate_chnext laydate_tab"><cite></cite></a><div class="laydate_yms"><a class="laydate_tab laydate_chtop"><cite></cite></a><ul id="laydate_ys"></ul><a class="laydate_tab laydate_chdown"><cite></cite></a></div></div><div class="laydate_ym laydate_m" id="laydate_MM"><a class="laydate_choose laydate_chprev laydate_tab"><cite></cite></a><input id="laydate_m" readonly><label></label><a class="laydate_choose laydate_chnext laydate_tab"><cite></cite></a><div class="laydate_yms" id="laydate_ms">'+
        function(){var c="";a.each(Array(12),function(b){c+='<span m="'+b+'">'+a.digit(b+1)+"\u6708</span>"});return c}()+"</div></div></div>"+a.viewtb+'<div class="laydate_bottom"><ul id="laydate_hms"><li class="laydate_sj">\u65f6\u95f4</li><li><input readonly>:</li><li><input readonly>:</li><li><input readonly></li></ul><div class="laydate_time" id="laydate_time"></div><div class="laydate_btn"><a id="laydate_clear">\u6e05\u7a7a</a><a id="laydate_today">\u4eca\u5929</a><a id="laydate_ok">\u786e\u8ba4</a></div></div>',
        k.body.appendChild(e),a.box=c("#"+f[0]),a.events(),e=null);a.follow(a.box);d.zIndex?a.box.style.zIndex=d.zIndex:a.removeCssAttr(a.box,"z-index");a.stopMosup("click",a.box);a.initDate();a.iswrite();a.check()};a.reshow=function(){a.each(a.query("#"+f[0]+" .laydate_show"),function(b,d){a.removeClass(d,"laydate_show")});return this};a.close=function(){a.reshow();a.shde(a.query("#"+f[0]),1);a.elem=null};a.parse=function(b,d,c){b=b.concat(d);c=c||(a.options?a.options.format:"YYYY-MM-DD");return c.replace(/YYYY|MM|DD|hh|mm|ss/g,
        function(c,d){b.index=++b.index|0;return a.digit(b[b.index])})};a.creation=function(b,d){var c=a.hmsin,c=a.parse(b,[c[0].value,c[1].value,c[2].value]);a.elem[f.elemv]=c;d||(a.close(),"function"===typeof a.options.choose&&a.options.choose(c))};a.events=function(){var b=a.query,d={box:"#"+f[0]};a.addClass(k.body,"laydate_body");f.tds=b("#laydate_table td");f.mms=b("#laydate_ms span");f.year=b("#laydate_y");f.month=b("#laydate_m");a.each(b(d.box+" .laydate_ym"),function(c,b){a.on(b,"click",function(b){a.stopmp(b).reshow();
        a.addClass(this.getElementsByTagName("div")[0],"laydate_show");c||(d.YY=parseInt(f.year.value),a.viewYears(d.YY))})});a.on(b(d.box),"click",function(){a.reshow()});d.tabYear=function(c){0===c?a.ymd[0]--:1===c?a.ymd[0]++:d.YY=2===c?d.YY-14:d.YY+14;2>c?(a.viewDate(a.ymd[0],a.ymd[1],a.ymd[2]),a.reshow()):a.viewYears(d.YY)};a.each(b("#laydate_YY .laydate_tab"),function(c,b){a.on(b,"click",function(b){a.stopmp(b);d.tabYear(c)})});d.tabMonth=function(c){c?(a.ymd[1]++,12===a.ymd[1]&&(a.ymd[0]++,a.ymd[1]=
        0)):(a.ymd[1]--,-1===a.ymd[1]&&(a.ymd[0]--,a.ymd[1]=11));a.viewDate(a.ymd[0],a.ymd[1],a.ymd[2])};a.each(b("#laydate_MM .laydate_tab"),function(c,b){a.on(b,"click",function(b){a.stopmp(b).reshow();d.tabMonth(c)})});a.each(b("#laydate_ms span"),function(b,d){a.on(d,"click",function(b){a.stopmp(b).reshow();a.hasClass(this,f[1])||a.viewDate(a.ymd[0],this.getAttribute("m")|0,a.ymd[2])})});a.each(b("#laydate_table td"),function(b,d){a.on(d,"click",function(b){a.hasClass(this,f[1])||(a.stopmp(b),a.creation([this.getAttribute("y")|
    0,this.getAttribute("m")|0,this.getAttribute("d")|0]))})});f.oclear=b("#laydate_clear");a.on(f.oclear,"click",function(){a.elem[f.elemv]="";a.close()});f.otoday=b("#laydate_today");a.on(f.otoday,"click",function(){var b=new Date;a.creation([b.getFullYear(),b.getMonth()+1,b.getDate()])});f.ok=b("#laydate_ok");a.on(f.ok,"click",function(){a.valid&&a.creation([a.ymd[0],a.ymd[1]+1,a.ymd[2]])});d.times=b("#laydate_time");a.hmsin=d.hmsin=b("#laydate_hms input");d.hmss=["\u5c0f\u65f6","\u5206\u949f","\u79d2\u6570"];
        d.hmsarr=[];a.msg=function(c,e){var g='<div class="laydte_hsmtex">'+(e||"\u63d0\u793a")+"<span>\u00d7</span></div>";"string"===typeof c?(g+="<p>"+c+"</p>",a.shde(b("#"+f[0])),a.removeClass(d.times,"laydate_time1").addClass(d.times,"laydate_msg")):(d.hmsarr[c]?g=d.hmsarr[c]:(g+='<div id="laydate_hmsno" class="laydate_hmsno">',a.each(Array(0===c?24:60),function(a){g+="<span>"+a+"</span>"}),g+="</div>",d.hmsarr[c]=g),a.removeClass(d.times,"laydate_msg"),a[0===c?"removeClass":"addClass"](d.times,"laydate_time1"));
            a.addClass(d.times,"laydate_show");d.times.innerHTML=g};d.hmson=function(c,d){var g=b("#laydate_hmsno span"),h=a.valid?null:1;a.each(g,function(b,g){if(h)a.addClass(g,f[1]);else if(a.timeVoid(b,d))a.addClass(g,f[1]);else a.on(g,"click",function(b){a.hasClass(this,f[1])||(c.value=a.digit(this.innerHTML|0))})});a.addClass(g[c.value|0],"laydate_click")};a.each(d.hmsin,function(b,e){a.on(e,"click",function(e){a.stopmp(e).reshow();a.msg(b,d.hmss[b]);d.hmson(this,b)})});a.on(k,"mouseup",function(){var c=
            b("#"+f[0]);c&&"none"!==c.style.display&&(a.check()||a.close())}).on(k,"keydown",function(b){b=b||h.event;13===b.keyCode&&a.elem&&a.creation([a.ymd[0],a.ymd[1]+1,a.ymd[2]])})};a.use("need");a.use(f[4]+"default",f[3]);a.skinLink=a.query("#"+f[3]);a.init=void 0;laydate.reset=function(){a.box&&a.elem&&a.follow(a.box)};laydate.now=function(b,d){var c=Date,e;b|0?(e=parseInt(b),e=864E5>e?+new Date+864E5*e:e):e=+new Date;c=new c(e);return a.parse([c.getFullYear(),c.getMonth()+1,c.getDate()],[c.getHours(),
        c.getMinutes(),c.getSeconds()],d)};laydate.skin=function(b){a.skinLink.href=a.getPath+f[4]+b+f[5]}}(window);